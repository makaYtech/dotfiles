/* Определяем переменные для темы */
.theme-dark {
    --bg-primary: rgba(30, 30, 30, 0.85);
    --bg-secondary: rgba(40, 40, 40, 0.9);
    --bg-tertiary: rgba(50, 50, 50, 0.8);
}

.theme-light {
    --bg-primary: rgba(240, 240, 240, 0.85);
    --bg-secondary: rgba(250, 250, 250, 0.9);
    --bg-tertiary: rgba(230, 230, 230, 0.8);
}

/* Применяем прозрачность */
.app, .appMount {
    background: transparent !important;
}

/* Проверяем поддержку backdrop-filter */
@supports (backdrop-filter: blur(10px)) or (-webkit-backdrop-filter: blur(10px)) {
    /* Для композиторов с поддержкой размытия */
    .container_b2ce9c, .chatContent_a7d72e, .sidebar_ded4b5 {
        background: var(--bg-primary) !important;
        backdrop-filter: blur(10px) !important;
        -webkit-backdrop-filter: blur(10px) !important;
    }
}

/* Фолбэк для композиторов без поддержки */
@supports not ((backdrop-filter: blur(10px)) or (-webkit-backdrop-filter: blur(10px))) {
    .container_b2ce9c, .chatContent_a7d72e, .sidebar_ded4b5 {
        background: var(--bg-secondary) !important;
    }
}

/* Критические элементы оставляем более непрозрачными */
[role="dialog"],
[class*="modal"],
[class*="popout"],
[class*="menu"] {
    background: var(--bg-tertiary) !important;
    backdrop-filter: none !important; /* Отключаем размытие для меню */
}